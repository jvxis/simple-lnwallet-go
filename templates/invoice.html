{{ define "content" }}
<h2>⚡ Gerar Fatura</h2>
<form method="post">
    <label>Valor (sats):</label>
    <input type="number" name="amount" placeholder="Digite o valor em sats" required>

    <label>Descrição:</label>
    <input type="text" name="memo" placeholder="Opcional">

    <button type="submit">🔧 Gerar Fatura</button>
</form>

{{ if .Invoice }}
<h3>📄 Fatura Gerada:</h3>
<div class="invoice-box">
    <input type="text" value="{{ .Invoice }}" id="invoice-text" readonly>
    <button onclick="copyInvoice()">📋 Copiar</button>
</div>

<h3>📷 QR Code:</h3>
<div class="qr-code">
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={{ .Invoice }}" alt="QR Code">
</div>
{{ end }}

<script>
    function copyInvoice() {
        var copyText = document.getElementById("invoice-text");
        copyText.select();
        document.execCommand("copy");
        alert("Fatura copiada!");
    }
</script>

<div class="menu">
    <a href="/dashboard">🏠 Voltar ao Dashboard</a>
</div>
{{ end }}